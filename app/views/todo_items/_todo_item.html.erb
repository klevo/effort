<% cache todo_item do %>
  <li id="<%= dom_id todo_item %>" class="todo_item" data-id="<%= todo_item.id %>">
    <span class="nubbin">
      <%= link_to [todo_item.todo_list.project, todo_item.todo_list, todo_item], method: :delete,
          format: :js, remote: true, data: { confirm: 'Are you sure?' } do %>
        <%= fa_icon 'trash-o' %>
      <% end %>
    </span>

    <%= check_box_tag "todo_item_#{todo_item.id}", "done", todo_item.complete?, data: {
    toggle_url: toggle_project_todo_list_todo_item_path(todo_item.todo_list.project, todo_item.todo_list, todo_item, format: :js),
    behavior: 'toggle_todo_item'
    } %>

    <div class="content"
         data-behavior="edit_on_dblclick sort_handle"
         data-edit-url="<%= edit_project_todo_list_todo_item_path(todo_item.todo_list.project, todo_item.todo_list, todo_item, format: :js) %>">
      <%= todo_item.content %>
    </div>
  </li>
<% end %>
